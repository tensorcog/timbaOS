(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{75121:function(e,s,r){Promise.resolve().then(r.bind(r,14547))},14547:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var t=r(57437),d=r(2265),a=r(91436),l=r(21156),n=r(56940),o=r(97059),c=r(62994),i=r(78155),x=r(53250),m=r(55487),h=r(86810),u=r(10062),j=r(20407),f=r(77031),v=r(90999),g=r(95252),b=r(70525),N=r(3085),p=r(16275),y=r(44794);function w(){let[e,s]=(0,d.useState)(null),[r,w]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(async function(){try{let e=await fetch("/api/analytics"),r=await e.json();s(r)}catch(e){console.error("Failed to fetch analytics:",e)}finally{w(!1)}})()},[]),r)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Loading analytics..."})});if(!e)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Failed to load analytics"})});let k=e.previousMonthRevenue>0?(e.totalRevenue-e.previousMonthRevenue)/e.previousMonthRevenue*100:0,O=e.previousMonthOrders>0?(e.totalOrders-e.previousMonthOrders)/e.previousMonthOrders*100:0,R="#3b82f6";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("h1",{className:"text-lg font-semibold md:text-2xl",children:"Analytics"})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),(0,t.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold mt-2",children:["$",e.totalRevenue.toFixed(2)]}),(0,t.jsxs)("div",{className:"flex items-center mt-2 text-sm",children:[k>=0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 text-green-500 mr-1"}),(0,t.jsxs)("span",{className:"text-green-500",children:["+",k.toFixed(1),"%"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 text-red-500 mr-1"}),(0,t.jsxs)("span",{className:"text-red-500",children:[k.toFixed(1),"%"]})]}),(0,t.jsx)("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Completed Orders"}),(0,t.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold mt-2",children:e.completedOrders}),(0,t.jsxs)("div",{className:"flex items-center mt-2 text-sm",children:[O>=0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 text-green-500 mr-1"}),(0,t.jsxs)("span",{className:"text-green-500",children:["+",O.toFixed(1),"%"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 text-red-500 mr-1"}),(0,t.jsxs)("span",{className:"text-red-500",children:[O.toFixed(1),"%"]})]}),(0,t.jsx)("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Pending Orders"}),(0,t.jsx)(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold mt-2",children:e.pendingOrders}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-2",children:[e.totalOrders>0?(e.pendingOrders/e.totalOrders*100).toFixed(1):0,"% of total orders"]})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Revenue Trend"}),(0,t.jsx)(a.h,{width:"100%",height:300,children:(0,t.jsxs)(l.w,{data:e.revenueByMonth,children:[(0,t.jsx)(n.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(o.K,{dataKey:"month",stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(c.B,{stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(i.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--card-foreground))"}}),(0,t.jsx)(x.D,{}),(0,t.jsx)(m.x1,{type:"monotone",dataKey:"revenue",stroke:R,strokeWidth:2,dot:{fill:R},name:"Revenue ($)"})]})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Order Status Distribution"}),(0,t.jsx)(a.h,{width:"100%",height:300,children:(0,t.jsxs)(h.u,{children:[(0,t.jsx)(u.b,{data:e.ordersByStatus,cx:"50%",cy:"50%",labelLine:!1,label:e=>"".concat(e.status,": ").concat(e.count),outerRadius:100,fill:"#8884d8",dataKey:"count",children:e.ordersByStatus.map((e,s)=>(0,t.jsx)(j.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(i.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Revenue by Category"}),(0,t.jsx)(a.h,{width:"100%",height:300,children:(0,t.jsxs)(f.v,{data:e.categoryBreakdown,children:[(0,t.jsx)(n.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(o.K,{dataKey:"category",stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(c.B,{stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(i.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),(0,t.jsx)(v.$Q,{dataKey:"revenue",fill:"#22c55e",name:"Revenue ($)"})]})})]})]}),(0,t.jsx)("div",{className:"rounded-xl border bg-card text-card-foreground shadow",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Top Selling Products"}),(0,t.jsxs)("div",{className:"space-y-4",children:[e.topProducts.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:s+1}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.quantity," units sold"]})]})]}),(0,t.jsxs)("div",{className:"text-lg font-semibold",children:["$",e.revenue.toFixed(2)]})]},s)),0===e.topProducts.length&&(0,t.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"No product sales data available"})]})]})}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Orders Over Time"}),(0,t.jsx)(a.h,{width:"100%",height:300,children:(0,t.jsxs)(f.v,{data:e.revenueByMonth,children:[(0,t.jsx)(n.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(o.K,{dataKey:"month",stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(c.B,{stroke:"hsl(var(--muted-foreground))"}),(0,t.jsx)(i.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),(0,t.jsx)(v.$Q,{dataKey:"orders",fill:"#a855f7",name:"Number of Orders"})]})})]})]})}}},function(e){e.O(0,[549,971,117,744],function(){return e(e.s=75121)}),_N_E=e.O()}]);