(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{34901:function(e,t,r){Promise.resolve().then(r.bind(r,46534))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:c="",children:i,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(d)/Number(a):d,className:l("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(i)?i:[i]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,s.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},30401:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},83774:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},44794:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},16275:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},18930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},95805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(72972),a=r.n(s)},46534:function(e,t,r){"use strict";r.d(t,{DashboardShell:function(){return L}});var s=r(57437),a=r(27648),l=r(79205);let n=(0,l.Z)("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]),d=(0,l.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),o=(0,l.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var c=r(16275);let i=(0,l.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u=r(44794),h=r(95805);let x=(0,l.Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),m=(0,l.Z)("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),f=(0,l.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=r(73247);let g=(0,l.Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var b=r(86697),j=r(83774),v=r(30401),y=r(2265);function N(){let{currentLocation:e,availableLocations:t,setCurrentLocation:r,isLoading:a}=(0,b.T)(),[l,n]=(0,y.useState)(!1);return a||!e?(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted animate-pulse",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Loading..."})]}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>n(!l),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gradient-to-r from-purple-500/20 to-blue-500/20 hover:from-purple-500/30 hover:to-blue-500/30 transition-all border border-purple-500/30",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 text-purple-400"}),(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Location"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.name})]})]}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),(0,s.jsxs)("div",{className:"absolute top-full mt-2 right-0 z-50 w-64 rounded-lg border bg-card shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"p-2 border-b bg-muted/50",children:(0,s.jsx)("p",{className:"text-xs font-semibold text-muted-foreground",children:"SELECT LOCATION"})}),(0,s.jsx)("div",{className:"max-h-80 overflow-y-auto",children:t.map(t=>(0,s.jsxs)("button",{onClick:()=>{r(t),n(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted transition-colors text-left",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center ".concat(t.isWarehouse?"bg-orange-500/20":"bg-gradient-to-br from-purple-500/20 to-blue-500/20"),children:(0,s.jsx)(j.Z,{className:"h-5 w-5 ".concat(t.isWarehouse?"text-orange-400":"text-purple-400")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:t.code}),t.isWarehouse&&(0,s.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-400",children:"Warehouse"})]})]}),e.id===t.id&&(0,s.jsx)(v.Z,{className:"h-4 w-4 text-green-400"})]},t.id))}),0===t.length&&(0,s.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No locations available"})]})]})]})}var k=r(88054);function w(e){let{onClick:t}=e,{itemCount:r}=(0,k.j)();return(0,s.jsxs)("button",{onClick:t,className:"relative p-2 rounded-full hover:bg-muted transition-colors",children:[(0,s.jsx)(c.Z,{className:"h-6 w-6"}),r>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-gradient-to-r from-purple-500 to-blue-600 text-white text-xs font-bold flex items-center justify-center",children:r>99?"99+":r}),(0,s.jsxs)("span",{className:"sr-only",children:["Shopping cart (",r," items)"]})]})}var Z=r(32489),C=r(18930);let M=(0,l.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var q=r(99397);function S(e){let{isOpen:t,onClose:r}=e,{items:l,removeItem:n,updateQuantity:d,itemCount:o,subtotal:i}=(0,k.j)();return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:r}),(0,s.jsxs)("div",{className:"fixed right-0 top-0 h-full w-full md:w-96 bg-card border-l z-50 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5"}),"Cart (",o,")"]}),(0,s.jsx)("button",{onClick:r,className:"p-2 hover:bg-muted rounded-full transition-colors",children:(0,s.jsx)(Z.Z,{className:"h-5 w-5"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-4",children:0===l.length?(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,s.jsx)(c.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Your cart is empty"})]}):(0,s.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg border bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-mono text-xs text-muted-foreground",children:e.sku}),(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.price.toFixed(2)," each"]})]}),(0,s.jsx)("button",{onClick:()=>n(e.productId),className:"text-red-500 hover:text-red-700 p-1",children:(0,s.jsx)(C.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded",children:[(0,s.jsx)("button",{onClick:()=>d(e.productId,e.quantity-1),className:"p-2 hover:bg-muted",children:(0,s.jsx)(M,{className:"h-3 w-3"})}),(0,s.jsx)("span",{className:"px-4 py-1 min-w-[3rem] text-center",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>d(e.productId,e.quantity+1),className:"p-2 hover:bg-muted",children:(0,s.jsx)(q.Z,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"font-semibold",children:["$",(e.price*e.quantity-e.discount).toFixed(2)]})]})]},e.productId))})}),l.length>0&&(0,s.jsxs)("div",{className:"border-t p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",i.toFixed(2)]})]}),(0,s.jsx)(a.default,{href:"/dashboard/checkout",onClick:r,className:"block w-full py-3 rounded-lg bg-gradient-to-r from-purple-500 to-blue-600 text-white font-semibold text-center hover:from-purple-600 hover:to-blue-700 transition-all",children:"Proceed to Checkout"})]})]})]}):null}function I(e){let{children:t}=e,[r,l]=(0,y.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,s.jsx)("div",{className:"hidden border-r border-border bg-card md:block",children:(0,s.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex h-14 items-center border-b border-border px-4 lg:h-[60px] lg:px-6 bg-gradient-to-r from-purple-500/10 to-blue-500/10",children:[(0,s.jsxs)(a.default,{href:"/",className:"flex items-center gap-2 font-semibold",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:(0,s.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-purple-400 to-blue-600 bg-clip-text text-transparent font-bold",children:"Pine ERP"})]}),(0,s.jsxs)("button",{className:"ml-auto h-8 w-8 border border-border rounded-full flex items-center justify-center hover:bg-muted transition-colors",children:[(0,s.jsx)(d,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle notifications"})]})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4 gap-1",children:[(0,s.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-3 rounded-lg bg-gradient-to-r from-purple-500/20 to-blue-500/20 px-3 py-2 text-primary transition-all hover:from-purple-500/30 hover:to-blue-500/30",children:[(0,s.jsx)(o,{className:"h-4 w-4"}),"Dashboard"]}),(0,s.jsxs)(a.default,{href:"/dashboard/orders",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Orders"]}),(0,s.jsxs)(a.default,{href:"/dashboard/quotes",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(i,{className:"h-4 w-4"}),"Quotes"]}),(0,s.jsxs)(a.default,{href:"/dashboard/products",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"Products"]}),(0,s.jsxs)(a.default,{href:"/dashboard/customers",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),"Customers"]}),(0,s.jsxs)(a.default,{href:"/dashboard/transfers",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(x,{className:"h-4 w-4"}),"Transfers"]}),(0,s.jsxs)(a.default,{href:"/dashboard/analytics",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(m,{className:"h-4 w-4"}),"Analytics"]}),(0,s.jsx)("div",{className:"my-2 border-t border-border"}),(0,s.jsxs)(a.default,{href:"/dashboard/admin",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-foreground hover:bg-muted",children:[(0,s.jsx)(f,{className:"h-4 w-4"}),"Admin"]})]})})]})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b border-border bg-card/50 backdrop-blur px-4 lg:h-[60px] lg:px-6",children:[(0,s.jsx)("div",{className:"w-full flex-1",children:(0,s.jsx)("form",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"search",placeholder:"Search products...",className:"w-full appearance-none bg-muted border border-border rounded-lg pl-8 h-9 shadow-none md:w-2/3 lg:w-1/3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})})}),(0,s.jsx)(N,{}),(0,s.jsx)(w,{onClick:()=>l(!0)}),(0,s.jsxs)("button",{className:"rounded-full border border-border w-8 h-8 flex items-center justify-center hover:bg-muted transition-colors",children:[(0,s.jsx)(g,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]})]}),(0,s.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6",children:t})]})]}),(0,s.jsx)(S,{isOpen:r,onClose:()=>l(!1)})]})}function L(e){let{children:t}=e;return(0,s.jsx)(b.v,{children:(0,s.jsx)(k.Z,{children:(0,s.jsx)(I,{children:t})})})}},88054:function(e,t,r){"use strict";r.d(t,{Z:function(){return n},j:function(){return d}});var s=r(57437),a=r(2265);let l=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to load cart:",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let d=e=>{n(t=>t.filter(t=>t.productId!==e))},o=r.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+(t.price*t.quantity-t.discount),0);return(0,s.jsx)(l.Provider,{value:{items:r,addItem:e=>{n(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,sku:e.sku,price:e.price,quantity:1,discount:0}])},removeItem:d,updateQuantity:(e,t)=>{t<=0?d(e):n(r=>r.map(r=>r.productId===e?{...r,quantity:t}:r))},updateDiscount:(e,t)=>{n(r=>r.map(r=>r.productId===e?{...r,discount:t}:r))},clearCart:()=>{n([])},itemCount:o,subtotal:c},children:t})}function d(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},86697:function(e,t,r){"use strict";r.d(t,{T:function(){return d},v:function(){return n}});var s=r(57437),a=r(2265);let l=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,a.useState)(null),[d,o]=(0,a.useState)([]),[c,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/locations");if(e.ok){let t=await e.json();o(t);let r=localStorage.getItem("selectedLocationId");if(r){let e=t.find(e=>e.id===r);e?n(e):t.length>0&&n(t[0])}else t.length>0&&n(t[0])}}catch(e){console.error("Failed to load locations:",e)}finally{i(!1)}})()},[]),(0,s.jsx)(l.Provider,{value:{currentLocation:r,selectedLocation:(null==r?void 0:r.id)||null,availableLocations:d,setCurrentLocation:e=>{n(e),localStorage.setItem("selectedLocationId",e.id)},isLoading:c},children:t})}function d(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useLocation must be used within a LocationProvider");return e}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=34901)}),_N_E=e.O()}]);