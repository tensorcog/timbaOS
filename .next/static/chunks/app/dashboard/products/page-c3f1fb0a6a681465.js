(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{58135:function(e,t,r){Promise.resolve().then(r.bind(r,12350))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:i?24*Number(l)/Number(n):l,className:a("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,c)=>{let{className:i,...o}=r;return(0,s.createElement)(l,{ref:c,iconNode:t,className:a("lucide-".concat(n(e)),i),...o})});return r.displayName="".concat(e),r}},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},16275:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},12350:function(e,t,r){"use strict";r.d(t,{ProductList:function(){return i}});var s=r(57437),n=r(88054),a=r(16275),c=r(99397),l=r(2265);function i(e){let{products:t}=e,{addItem:r}=(0,n.j)(),[i,o]=(0,l.useState)(new Set),d=e=>{r({id:e.id,name:e.name,sku:e.sku,price:parseFloat(e.basePrice.toString())}),o(t=>new Set(t).add(e.id)),setTimeout(()=>{o(t=>{let r=new Set(t);return r.delete(e.id),r})},1e3)};return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("th",{className:"text-left p-2",children:"SKU"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Name"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Category"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Base Price"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Total Stock"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Locations"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:t.map(e=>{let t=e.inventory.reduce((e,t)=>e+t.stockLevel,0),r=Math.min(...e.inventory.map(e=>e.stockLevel)),n=i.has(e.id);return(0,s.jsxs)("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[(0,s.jsx)("td",{className:"p-2 font-mono text-sm",children:e.sku}),(0,s.jsx)("td",{className:"p-2",children:e.name}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:e.category})}),(0,s.jsxs)("td",{className:"p-2",children:["$",Number(e.basePrice).toFixed(2)]}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("span",{className:"font-semibold ".concat(r<10?"text-red-600":"text-green-600"),children:t})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("div",{className:"flex gap-1",children:e.inventory.map(e=>(0,s.jsxs)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-muted",title:"".concat(e.location.name,": ").concat(e.stockLevel),children:[e.location.code,":",e.stockLevel]},e.id))})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("button",{onClick:()=>d(e),disabled:0===t,className:"px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm font-medium transition-all ".concat(n?"bg-green-600 text-white":0===t?"bg-muted text-muted-foreground cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700"),children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{className:"h-4 w-4"}),"Added!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Add to Cart"]})})})]},e.id)})})]})})}},88054:function(e,t,r){"use strict";r.d(t,{Z:function(){return c},j:function(){return l}});var s=r(57437),n=r(2265);let a=(0,n.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{c(JSON.parse(e))}catch(e){console.error("Failed to load cart:",e)}},[]),(0,n.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let l=e=>{c(t=>t.filter(t=>t.productId!==e))},i=r.reduce((e,t)=>e+t.quantity,0),o=r.reduce((e,t)=>e+(t.price*t.quantity-t.discount),0);return(0,s.jsx)(a.Provider,{value:{items:r,addItem:e=>{c(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,sku:e.sku,price:e.price,quantity:1,discount:0}])},removeItem:l,updateQuantity:(e,t)=>{t<=0?l(e):c(r=>r.map(r=>r.productId===e?{...r,quantity:t}:r))},updateDiscount:(e,t)=>{c(r=>r.map(r=>r.productId===e?{...r,discount:t}:r))},clearCart:()=>{c([])},itemCount:i,subtotal:o},children:t})}function l(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=58135)}),_N_E=e.O()}]);