(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{22458:function(e,t,a){Promise.resolve().then(a.t.bind(a,72972,23)),Promise.resolve().then(a.bind(a,39859))},79205:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:c="",children:o,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:a,strokeWidth:i?24*Number(d)/Number(n):d,className:r("lucide",c),...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),i=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:i,...c}=a;return(0,s.createElement)(d,{ref:l,iconNode:t,className:r("lucide-".concat(n(e)),i),...c})});return a.displayName="".concat(e),a}},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},12119:function(e,t,a){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let s=a(83079);function n(e){let{createServerReference:t}=a(6671);return t(e,s.callServer)}},32356:function(e,t,a){"use strict";a.d(t,{C8:function(){return l},LH:function(){return r},bZ:function(){return n},fP:function(){return d},gG:function(){return i}}),a(83079);var s=a(12119),n=(0,s.$)("acdea048839c707e4bd40ecf27872d5212818ab5"),r=(0,s.$)("ad16009e80f763aa7bad7be75e3216cafbebb224"),l=(0,s.$)("f6030df688df6b07b569111a74edc3758834a72e"),d=(0,s.$)("821f302f64185a3cdaf112a0857866b77c6d368e"),i=(0,s.$)("ee08196a811c0bb044a12bbc110cd2a6f5d0bf75")},39859:function(e,t,a){"use strict";a.d(t,{TransferForm:function(){return c}});var s=a(57437),n=a(2265),r=a(32356),l=a(99397),d=a(18930);let i=(0,a(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function c(e){let{locations:t,products:a}=e,[c,o]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[h,x]=(0,n.useState)([]),[f,p]=(0,n.useState)(""),[b,g]=(0,n.useState)(1),[v,j]=(0,n.useState)(""),y=e=>{let t=[...h];t.splice(e,1),x(t)},N=async e=>{if(0===h.length){alert("Please add at least one item");return}if(c===u){alert("Origin and destination must be different");return}e.set("items",JSON.stringify(h)),await (0,r.LH)(e)};return(0,s.jsxs)("form",{action:N,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Origin Location"}),(0,s.jsxs)("select",{name:"originLocationId",value:c,onChange:e=>o(e.target.value),required:!0,className:"w-full p-2 rounded-md border bg-background",children:[(0,s.jsx)("option",{value:"",children:"Select Origin"}),t.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.code," - ",e.name]},e.id))]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Destination Location"}),(0,s.jsxs)("select",{name:"destinationLocationId",value:u,onChange:e=>m(e.target.value),required:!0,className:"w-full p-2 rounded-md border bg-background",children:[(0,s.jsx)("option",{value:"",children:"Select Destination"}),t.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.code," - ",e.name]},e.id))]})]})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm",children:"Add Items"}),(0,s.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Product"}),(0,s.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full p-2 rounded-md border bg-background",children:[(0,s.jsx)("option",{value:"",children:"Select Product"}),a.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.sku," - ",e.name]},e.id))]})]}),(0,s.jsxs)("div",{className:"w-24 space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Quantity"}),(0,s.jsx)("input",{type:"number",min:"1",value:b,onChange:e=>g(parseInt(e.target.value)||0),className:"w-full p-2 rounded-md border bg-background"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{if(!f||b<=0)return;let e=h.findIndex(e=>e.productId===f);if(e>=0){let t=[...h];t[e].quantity+=b,x(t)}else x([...h,{productId:f,quantity:b}]);p(""),g(1)},disabled:!f||b<=0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})]}),h.length>0&&(0,s.jsx)("div",{className:"mt-4 border rounded-md overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-muted",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Product"}),(0,s.jsx)("th",{className:"px-4 py-2 text-right",children:"Quantity"}),(0,s.jsx)("th",{className:"px-4 py-2 w-10"})]})}),(0,s.jsx)("tbody",{children:h.map((e,t)=>{let n=a.find(t=>t.id===e.productId);return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsxs)("td",{className:"px-4 py-2",children:[(0,s.jsx)("span",{className:"font-mono text-xs text-muted-foreground mr-2",children:null==n?void 0:n.sku}),null==n?void 0:n.name]}),(0,s.jsx)("td",{className:"px-4 py-2 text-right",children:e.quantity}),(0,s.jsx)("td",{className:"px-4 py-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>y(t),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})})]},"".concat(e.productId,"-").concat(t))})})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Notes"}),(0,s.jsx)("textarea",{name:"notes",value:v,onChange:e=>j(e.target.value),className:"w-full p-2 rounded-md border bg-background min-h-[100px]",placeholder:"Optional notes about this transfer..."})]}),(0,s.jsx)("div",{className:"flex justify-end gap-4",children:(0,s.jsxs)("button",{type:"submit",disabled:0===h.length,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-600 text-white font-semibold rounded-lg hover:from-purple-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(i,{className:"h-4 w-4"}),"Create Transfer"]})})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=22458)}),_N_E=e.O()}]);