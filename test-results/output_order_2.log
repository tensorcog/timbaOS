
Running 2 tests using 2 workers

[1A[2K[1/2] [chromium] â€º tests/e2e/order.spec.ts:93:9 â€º Order Validation â€º Order Edit Validation
[1A[2K[2/2] [chromium] â€º tests/e2e/order.spec.ts:46:9 â€º Order Validation â€º Order Status Transitions (Confirm)
[1A[2K  1) [chromium] â€º tests/e2e/order.spec.ts:93:9 â€º Order Validation â€º Order Edit Validation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    PrismaClientValidationError: 
    Invalid `prisma.order.create()` invocation in
    /home/monty/spruce-killer/tests/e2e/order.spec.ts:105:51

      102     return;
      103 }
      104 
    â†’ 105 const confirmedOrder = await prisma.order.create({
            data: {
              id: "ord-conf-1764341278250",
              orderNumber: "ORD-CONF-1764341278250",
              customerId: "a706cb22-e099-4886-abb9-16bb17d8a81f",
              locationId: "f4d0250d-1099-4b65-b56c-0861c66f01c8",
              status: "CONFIRMED",
                      ~~~~~~~~~~~
              totalAmount: 100,
              subtotal: 100,
              updatedAt: new Date("2025-11-28T14:47:58.250Z"),
              createdAt: new Date("2025-11-28T14:47:58.250Z"),
              OrderItem: {
                create: {
                  id: "oi-1764341278250",
                  productId: "38f0ecf1-22e2-4f23-b611-0a86fbda2195",
                  quantity: 1,
                  price: 100
                }
              }
            },
            include: {
              OrderItem: true
            }
          })

    Invalid value for argument `status`. Expected OrderStatus.

      103 |         }
      104 |
    > 105 |         const confirmedOrder = await prisma.order.create({
          |                                                   ^
      106 |             data: {
      107 |                 id: `ord-conf-${Date.now()}`,
      108 |                 orderNumber: `ORD-CONF-${Date.now()}`,
        at /home/monty/spruce-killer/tests/e2e/order.spec.ts:105:51
        at wn (/home/monty/spruce-killer/node_modules/@prisma/client/runtime/library.js:29:1363)
        at $n.handleRequestError (/home/monty/spruce-killer/node_modules/@prisma/client/runtime/library.js:121:6958)
        at $n.handleAndLogRequestError (/home/monty/spruce-killer/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/home/monty/spruce-killer/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/home/monty/spruce-killer/node_modules/@prisma/client/runtime/library.js:130:9633)
        at /home/monty/spruce-killer/tests/e2e/order.spec.ts:105:32


[1A[2K  2) [chromium] â€º tests/e2e/order.spec.ts:46:9 â€º Order Validation â€º Order Status Transitions (Confirm) 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"CONFIRMED"[39m
    Received: [31m"PROCESSING"[39m

      88 |
      89 |         const updatedOrder = await prisma.order.findUnique({ where: { id: order.id } });
    > 90 |         expect(updatedOrder?.status).toBe('CONFIRMED');
         |                                      ^
      91 |     });
      92 |
      93 |     test('Order Edit Validation', async () => {
        at /home/monty/spruce-killer/tests/e2e/order.spec.ts:90:38


[1A[2K  2 failed
    [chromium] â€º tests/e2e/order.spec.ts:46:9 â€º Order Validation â€º Order Status Transitions (Confirm) 
    [chromium] â€º tests/e2e/order.spec.ts:93:9 â€º Order Validation â€º Order Edit Validation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[36m  Serving HTML report at http://localhost:51747. Press Ctrl+C to quit.[39m
